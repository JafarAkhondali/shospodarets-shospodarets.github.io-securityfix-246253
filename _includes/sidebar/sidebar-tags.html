<div class="sidebar-box">
    <h3 class="sidebar-title">Tags</h3>
    <div class="sidebar-tags">
        <ul>
            {% capture site_tags %}{% for tag in site.tags %}{{ tag | first }}{% unless forloop.last %},{% endunless %}{% endfor %}{% endcapture %}
            {% assign tag_words = site_tags | split:',' | sort %}

            {% for item in (0..site.tags.size) %}{% unless forloop.last %}
            {% capture this_word %}{{ tag_words[item] | strip_newlines }}{% endcapture %}
                {% if page.active-tag == this_word %}
                    {% assign tag_is_active = true %}
                {% else %}
                    {% assign tag_is_active = false %}
                {% endif %}

                <li class="{% if tag_is_active %}active{% endif %}"><a href="{{ site.baseurl }}/tags/{{ this_word }}">{{ this_word }}</a></li>
            {% endunless %}{% endfor %}
        </ul>
    </div>
</div>